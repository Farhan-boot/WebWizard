
@{
    ViewBag.Title = "WizardVideoCall";
    Layout = "~/Views/Shared/_LayoutWebWizard.cshtml";

}
<div id="centerDiv">
    <a href="@Url.Action("WizerdDashboard","Mobile")" id="backToMessenger" class="btn btn-primary btn-sm">Back to Messenger</a>
    <hr />
    <div data-bind="attr: { 'data-mode': Mode }">
        <!-- Invalid browser alert, and reminder to enable media things -->
        <div class="container-fluid">
            <div class="row-fluid instructions">
                <div class="span12">
                    <div class="alert"><h4>Look Up!</h4> Your browser should be asking you to enable your webcam and microphone.  <strong>This site will not work until you provide access</strong>.</div>
                </div>
            </div>
            <div class="row-fluid browser-warning">
                <div class="span12">
                    <div class="alert alert-error"><h4>Your browser does not appear to support WebRTC.</h4> Try either the <a href="https://nightly.mozilla.org/">latest Firefox nightly build</a>, or <a href="https://www.google.com/intl/en/chrome/browser/beta.html">Google Chrome Beta</a> to join the fun.</div>
                </div>
            </div>
        </div>

        <!-- App Area -->
        <div class="container-fluid">
            <div class="row-fluid">
                <!-- Videos -->
                <div class="container">
                    <div class="row">




                        @*<div class="col-md-4">
                                <h4 style="text-align: center;font-weight: bold;">Me</h4>
                                <video class="video mine cool-background" autoplay="autoplay" muted="muted" allow="camera;microphone"></video>
                            </div>
                            <div class="col-md-4">
                                <h4 style="text-align: center;font-weight: bold;">Partner</h4>
                                <video class="video partner cool-background" autoplay="autoplay" allow="camera;microphone"></video>
                            </div>*@

                        <style>
                            @@media only screen and (max-width: 580px) and (min-width: 120px) {
                                #smVideoDiv {
                                    left: 16% !important;
                                    width: 70px !important;
                                    top: 3px !important;
                                }

                                #bgVideo {
                                    height: auto !important;
                                }
                            }

                            video {
                                -webkit-transform: scaleX(-1);
                                transform: scaleX(-1);
                            }
                        </style>


                        <div class="col-md-6">
                            <!-- Widget: user widget style 1 -->
                            <div class="box box-widget widget-user" style="background-color:transparent">
                                <!-- Add the bg color to the header using any of the bg-* classes -->
                                <div class="">
                                    <video id="bgVideo" class="video partner cool-background" autoplay="autoplay" allow="camera;microphone" style="height:350px;max-width: 465px;min-width:260px"></video>
                                </div>
                                <div id="smVideoDiv" class="widget-user-image" style="height: 115px;width: 115px;top: 10px;left: 10%;">
                                    <video id="smVideo" class="video mine cool-background" autoplay="autoplay" muted="muted" allow="camera;microphone" style="height: auto;"></video>
                                </div>

                            </div>
                            <!-- /.widget-user -->
                        </div>
                        <h4 class="nav-header">Online Users <small style="font-size: 25px;" data-bind="text: Users().length"></small></h4>
                        <div class="col-md-2" style="height: 190px;overflow: scroll;overflow-x: auto;">
                            <ul class="nav nav-list">
                                <!-- ko foreach: Users -->
                                <li class="user" data-bind="attr: { 'data-cid': ConnectionId, 'title': Username }">
                                    <a href="#">
                                        <!-- only using an a here for bootstrap styling -->
                                        <div class="username" data-bind="text: Username"></div>
                                        <div class="helper" data-bind="css: $parent.getUserStatus($data)"></div>
                                    </a>
                                </li>
                                <!-- /ko -->
                            </ul>
                        </div>
                        <div class="col-md-2">
                            <table>
                                <tr>
                                    <td>Audio</td>
                                    <td><input onclick="mutedAudio()" type="button" value="Audio Off" /></td>
                                </tr>
                                <tr>
                                    <td>Video</td>
                                    <td><input onclick="UserMediaPer(true, false)" type="button" value="Video Off" /></td>
                                </tr>
                            </table>
                        </div>


                    </div>
                </div>
                <!-- Side Bar -->
                <div class="span3">
                    <!-- In Call Actions -->
                    <div class="well actions">
                        <div class="status" data-bind="text: CallStatus"></div>
                        <button class="btn btn-danger hangup">Hang Up</button>
                    </div>
                    <!-- User List -->

                </div>
            </div>

        </div>
    </div>
</div>




<script>
    if (window.matchMedia("(max-width: 767px)").matches) {

        // The viewport is less than 768 pixels wide
        //alert("This is a mobile device.");

        $(".navbar-static-top").hide();
        $(".main-header").hide();
        $(".breadcrumb").hide();
        $("#backToMessenger").show();
        $("#bgVideo").css("min-height", "330px");
        $("#smVideo").css("min-width", "100px");
        $("#centerDiv").css("text-align", "center");
        

    } else {

        // The viewport is at least 768 pixels wide
       // alert("This is a tablet or desktop.");

       
        $("#backToMessenger").hide();
    }
</script> 